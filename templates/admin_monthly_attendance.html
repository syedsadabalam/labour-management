{% extends "base.html" %}
{% block title %}Monthly Attendance{% endblock %}

{% block content %}
<div class="container-fluid">

  <!-- HEADER -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h5 class="fw-semibold mb-1">
        ğŸ“… Monthly Attendance
      </h5>
      <small class="text-muted">
        {{ site.site_name }} â€” {{ month }}/{{ year }}
      </small>
    </div>

    <a href="{{ url_for('admin_bp.admin_site_dashboard', site_id=site.id) }}"
       class="btn btn-outline-secondary btn-sm">
      â† Back to Site Overview
    </a>
  </div>

  <!-- TABLE -->
  <div class="card shadow-sm">
    <div class="card-body p-0">

      <table class="table table-bordered mb-0">
        <thead class="table-light">
          <tr>
            <th>Date</th>
            <th>Present</th>
            <th>Absent</th>
            <th>Day Shift</th>
            <th>Night Shift</th>
          </tr>
        </thead>

        <tbody>
          {% for d in daily_stats %}
          <tr>
            <td>{{ d.date.strftime('%d %b %Y') }}</td>

            <td class="{% if d.present > 0 %}text-success{% endif %}">
              <strong>{{ d.present }}</strong>
            </td>

            <td class="{% if d.absent > 0 %}text-danger{% endif %}">
              <strong>{{ d.absent }}</strong>
            </td>

            <td>{{ d.day }}</td>
            <td>{{ d.night }}</td>
          </tr>
          {% endfor %}
        </tbody>

      </table>

    </div>
  </div>

</div>
{% endblock %}
